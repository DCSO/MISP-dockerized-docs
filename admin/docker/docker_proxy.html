

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configure Docker to use a proxy server &mdash; MISP-dockerized 0.3.3-beta documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/DCSO_Logo_Favicon_152x152_srgb.png"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Docker Network Help" href="docker_network.html" />
    <link rel="prev" title="Help" href="docker_cmd.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> MISP-dockerized
          

          
            
            <img src="../../_static/DCSO_Logo_Office_36pt_150dpi_allgrgb.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.3.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../intro/install_nativ_docker.html">Docker nativ: 4 Step Installation Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../intro/install_nativ_docker.html#clone-repository">1. Clone Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../intro/install_nativ_docker.html#configure-tls-certificates-and-diffie-hellmann-file-optional">2. Configure TLS Certificates and Diffie-Hellmann File (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../intro/install_nativ_docker.html#start-docker-environment">3. Start Docker Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../intro/install_nativ_docker.html#optional-look-if-all-required-components-are-installed">3.1. [OPTIONAL] look if all required components are installed</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../intro/install_nativ_docker.html#optional-manual-build-config">3.2 [OPTIONAL] Manual build config</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../intro/install_nativ_docker.html#optional-manual-deploy-environment">3.3 [OPTIONAL] Manual deploy environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../intro/install_nativ_docker.html#optional-configure-the-instance">3.4 [OPTIONAL] Configure the Instance</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../intro/install_nativ_docker.html#login-in-your-new-misp-environment">4. Login in your new MISP Environment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Administrator Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../dockerized_upgrading.html">Upgrading MISP-dockerized</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#advice">Advice</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#basic-instructions">Basic instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#from-v0-3-4-beta-to-v1-0-0">From v0.3.4-beta to v1.0.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#from-v0-3-3-beta-to-v0-3-4-beta">From v0.3.3-beta to v0.3.4-beta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#from-v0-3-2-beta-to-v0-3-3-beta">From v0.3.2-beta to v0.3.3-beta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#from-v0-3-1-beta-to-v0-3-2-beta">From v0.3.1-beta to v0.3.2-beta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#from-v0-3-0-beta-to-v0-3-1-beta">From v0.3.0-beta to v0.3.1-beta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#from-v0-2-0-beta-to-v0-3-0-beta">From v0.2.0-beta to v0.3.0-beta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#from-v2-4-88-beta-3-to-v0-2-0-beta">From v2.4.88-beta.3 to v0.2.0-beta</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#from-v2-4-88-beta-2-to-v2-4-88-beta-3">From v2.4.88-beta.2 to v2.4.88-beta.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_upgrading.html#from-v2-4-88-beta-1-to-v2-4-88-beta-2">From v2.4.88-beta.1 to v2.4.88-beta.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dockerized_backup-restore.html">Backup and Recovery of  MISP-dockerized</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_backup-restore.html#backup">Backup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_backup-restore.html#restore">Restore</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dockerized_logging.html">Logging mechanism of  MISP-dockerized</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_logging.html#which-log-files-are-relevant-for-troubleshooting">Which log files are relevant for troubleshooting?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_logging.html#show-logs-with-docker-logs-container-name">Show logs with <cite>docker logs &lt;container_name&gt;</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="../dockerized_logging.html#show-logs-with-syslog-forwarding">Show logs with syslog forwarding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../redis_maintenance.html">Redis Maintenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_cmd.html">Help</a><ul>
<li class="toctree-l3"><a class="reference internal" href="docker_cmd.html#make-docker-autostart-at-startup">Make Docker Autostart at Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker_cmd.html#delete-the-repository">Delete the Repository</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker_cmd.html#rebuild-from-backup">Rebuild from Backup</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker_cmd.html#access-the-container">Access the Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker_cmd.html#usefull-commands">Usefull Commands</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configure Docker to use a proxy server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configure-the-docker-client">Configure the Docker client</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-environment-variables">Use environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sources">Sources:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="docker_network.html">Docker Network Help</a><ul>
<li class="toctree-l3"><a class="reference internal" href="docker_network.html#stopping-automatic-network-interface-renaming-on-docker-host">Stopping Automatic Network Interface Renaming on Docker Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker_network.html#example-for-a-docker-network-configuration">Example for a Docker Network Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="docker_network.html#sources">Sources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="docker_daemon.html">Tips for Docker Daemon Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="docker_daemon.html#example-of-etc-docker-daemon-json">Example of <cite>/etc/docker/daemon.json</cite></a></li>
<li class="toctree-l3"><a class="reference internal" href="docker_daemon.html#sources">Sources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../changelogs/index.html">Changelogs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changelogs/misp-modules.html">MISP-dockerized-misp-modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../changelogs/misp-modules.html#release-candidate-0-3-2">Release Candidate 0.3.2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changelogs/misp-modules.html#update-informations">Update Informations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changelogs/misp-modules.html#general-changes">General Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changelogs/misp-modules.html#fixes-improvements">Fixes &amp; Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changelogs/misp-modules.html#detailed-changes">Detailed Changes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changelogs/misp-modules.html#release-candidate-0-3-1">Release Candidate 0.3.1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changelogs/misp-modules.html#update-informations">Update Informations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changelogs/misp-modules.html#fixes-improvements">Fixes &amp; Improvements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../changelogs/misp-modules.html#release-candidate-0-3-0">Release Candidate 0.3.0</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../changelogs/misp-modules.html#update-informations">Update Informations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changelogs/misp-modules.html#general-changes">General Changes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../changelogs/misp-modules.html#fixes-improvements">Fixes &amp; Improvements</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MISP-dockerized</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Administrator Guides</a> &raquo;</li>
        
      <li>Configure Docker to use a proxy server</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/admin/docker/docker_proxy.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configure-docker-to-use-a-proxy-server">
<span id="configure-docker-to-use-a-proxy-server"></span><h1>Configure Docker to use a proxy server<a class="headerlink" href="#configure-docker-to-use-a-proxy-server" title="Permalink to this headline">¶</a></h1>
<p>If your container needs to use an HTTP, HTTPS, or FTP proxy server, you can configure it in different ways:</p>
<ul class="simple">
<li>In Docker 17.07 and higher, you can configure the Docker client to pass proxy information to containers automatically.</li>
<li>In Docker 17.06 and lower, you must set appropriate environment variables within the container. You can do this when you build the image (which makes the image less portable) or when you create or run the container.</li>
</ul>
<div class="section" id="configure-the-docker-client">
<span id="configure-the-docker-client"></span><h2>Configure the Docker client<a class="headerlink" href="#configure-the-docker-client" title="Permalink to this headline">¶</a></h2>
<p>On the Docker client, create or edit the file <code class="docutils literal notranslate"><span class="pre">~/.docker/config.json</span></code> in the home directory of the user which starts containers. Add JSON such as the following, substituting the type of proxy with httpsProxy or ftpProxy if necessary, and substituting the address and port of the proxy server. You can configure multiple proxy servers at the same time.</p>
<p>You can optionally exclude hosts or ranges from going through the proxy server by setting a noProxy key to one or more comma-separated IP addresses or hosts. Using the * character as a wildcard is supported, as shown in this example.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>  <span class="o">{</span>
  <span class="s2">&quot;proxies&quot;</span>:
  <span class="o">{</span>
    <span class="s2">&quot;default&quot;</span>:
    <span class="o">{</span>
      <span class="s2">&quot;httpProxy&quot;</span>: <span class="s2">&quot;http://127.0.0.1:3001&quot;</span>,
      <span class="s2">&quot;httpsProxy&quot;</span>: <span class="s2">&quot;http://127.0.0.1:3001&quot;</span>,
      <span class="s2">&quot;ftpProxy&quot;</span>: <span class="s2">&quot;http://127.0.0.1:3001&quot;</span>,
      <span class="s2">&quot;noProxy&quot;</span>: <span class="s2">&quot;*.test.example.com,.example2.com&quot;</span>
    <span class="o">}</span>
  <span class="o">}</span>
  <span class="o">}</span>
</pre></div>
</div>
<p>Save the file.</p>
<p>When you create or start new containers, the environment variables are set automatically within the container.</p>
</div>
<div class="section" id="use-environment-variables">
<span id="use-environment-variables"></span><h2>Use environment variables<a class="headerlink" href="#use-environment-variables" title="Permalink to this headline">¶</a></h2>
<p>Set the environment variables manually:</p>
<p>|Variable|  Dockerfile example  docker run Example|
|-|-|-|
|HTTP_PROXY |ENV HTTP_PROXY “http://127.0.0.1:3001” |–env HTTP_PROXY=”http://127.0.0.1:3001”|
|HTTPS_PROXY    |ENV HTTPS_PROXY “https://127.0.0.1:3001”   |–env HTTPS_PROXY=”https://127.0.0.1:3001”|
|FTP_PROXY  |ENV FTP_PROXY “ftp://127.0.0.1:3001”   |–env FTP_PROXY=”ftp://127.0.0.1:3001”|
|NO_PROXY   |ENV NO_PROXY “<em>.test.example.com,.example2.com”    |–env NO_PROXY=”</em>.test.example.com,.example2.com”|</p>
</div>
<div class="section" id="sources">
<span id="sources"></span><h2>Sources:<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>https://docs.docker.com/network/proxy/</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="docker_network.html" class="btn btn-neutral float-right" title="Docker Network Help" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="docker_cmd.html" class="btn btn-neutral" title="Help" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, DCSO GmbH
      Last updated on Oct 16, 2018.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../',
              VERSION:'0.3.3-beta',
              LANGUAGE:'en',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #808080;
    }
    /* Sidebar */
    .wy-nav-side {
      /* background: #808080;*/
    }
  </style>


</body>
</html>